<!doctype html>
<html lang=fr xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/index.css">
    <link rel="icon" href="assets/pictures/logo.jpeg">
    <title>SAE 1.04 - Mission n°3</title>
</head>
<body>
<header>
    <h1>Mission n°3 : Interrogation d'une base de données - SQL</h1>
</header>
<aside>
    <nav>
        <div class="TitreAside">
            <img src="assets/pictures/icons/menu.png" alt="icone du menu"> <h3>MENU</h3>
        </div>
        <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="mission1.html">Mission n°1</a></li>
            <li><a href="mission2.html">Mission n°2</a></li>
            <li><a href="mission3.html">Mission n°3</a></li>
            <li><a href="mission4.html">Mission n°4</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
        </ul>
    </nav>
    <div class="sommaire">
        <div class="TitreAside">
            <img src="assets/pictures/icons/sommaire.png" alt="icone du sommaire"> <h3>SOMMAIRE</h3>
        </div>
        <ol>
            <li><a href="#contexte">Contexte</a></li>
            <li><a href="#theme1">Thème n°1 : Desserts/Boissons</a></li>
            <li><a href="#theme2">Thème n°2 : L'offre de KDou</a></li>
            <li><a href="#theme3">Thème n°3 : Provenance des produits</a></li>
            <li><a href="#theme4">Thème n°4 : La clientèle</a></li>
            <li><a href="#conclusion">Conclusion</a></li>
        </ol>
    </div>
</aside>
<main>
    <article id="contexte">
        <h2>Contexte</h2>
        <p>Pour cette mission il nous a été demandé d'interroger la base de données avec le langage SQL. Le but était ainsi d’analyser les données de KDou et de principalement vérifier certaines informations précises par le biais de SQL.
        Nous avons donc divisé cette mission en 4 thèmes, chacun divisés en deux requêtes.</p>
        <p>Pour chaque thème il y aura donc 2 requêtes, et pour chaque requête il y a :</p>
        <ul>
            <li>Une explication</li>
            <li>La requête en SQL</li>
            <li>La table résultat</li>
        </ul>
    </article>
    <article id="theme1">
        <h2>Thème n°1 : Desserts/Boissons</h2>
        <p>Nous nous intéressons ici aux desserts et boissons proposés par KDou pour sa refléxion sur la santé.</p>
        <ol>
            <li>
                <h3>Première requête</h3>
                <p>La question suivante a été posée : « Quel est le chiffre d’affaires généré par la catégorie desserts et boissons ? » <br>
                    Cette question est pertinente, car il est question de savoir s’il y a une réelle lucrativité vis-à-vis de ces catégories. Cette requête nous permettra ainsi d’avoir connaissance du chiffre d’affaires généré par ces catégories :
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT C.NomCateg, Sum(D.QteCom*D.PrixUnitCli*(1-D.Remise)) AS ChiffreAffaires <br>
                        FROM (DetailCommande AS D LEFT JOIN Produit AS P ON D.RefProd = P.RefProd) LEFT JOIN Categorie AS C ON P.CodeCateg = C.CodeCateg <br>
                        WHERE (((C.NomCateg) In ('desserts','boissons'))) <br>
                        GROUP BY C.NomCateg;
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <table>
                    <caption>Table résultat de la requête 1 du thème 1</caption>
                    <tr>
                        <th scope="col">NomCateg</th>
                        <th scope="col">ChiffreAffaires</th>
                    </tr>
                    <tr>
                        <td>Boissons</td>
                        <td>336 981,92 €</td>
                    </tr>
                    <tr>
                        <td>Desserts</td>
                        <td>195 901,65 €</td>
                    </tr>
                </table>
            </li>
            <li>
                <h3>Seconde requête</h3>
                <p>La question suivante a été posée : « Quels sont les pays de provenance de ces catégories ? » <br>
                    Cette question suscite l’acuité, car celle-ci permet de savoir par le biais de notre requête s’il y a des pays voisins à la France (où se trouve KDou) afin de tout d’abord avoir des frais de ports moins conséquents, mais également de savoir s'il y a tout simplement une provenance de ces catégories en France. Cela faciliterait grandement la commande de celles-ci.
                    Cette requête nous permettra ainsi d’avoir connaissance des pays de provenances de ces catégories.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Categorie.NomCateg, Fournisseur.Pays <br>
                        FROM Fournisseur INNER JOIN (Categorie INNER JOIN Produit ON Categorie.CodeCateg = Produit.CodeCateg) ON Fournisseur.NoFour = Produit.NoFour <br>
                        WHERE (((Categorie.NomCateg)="desserts" Or (Categorie.NomCateg)="boissons"));
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <img src="assets/pictures/mission3/theme1-requete2.png" alt="Table résultat de la requête 2 du thème 1 sur Access">
            </li>
        </ol>
    </article>
    <article id="theme2">
        <h2>Thème n°2 : L'offre de KDou</h2>
        <p>Nous nous intéressons ici à l'offre de KDou pour d'éventuels changements.</p>
        <ol>
            <li>
                <h3>Première requête</h3>
                <p>La question suivante a été posée : « Combien y a-t-il de produits non commandés par catégorie ? » <br>
                    Cette question suscite l’attention étant donné que cela permettrait à KDou de réduire ses offres ainsi que de limiter ses produits inutiles.
                    Cette requête nous permettra ainsi de savoir quels sont les produits non commandés par catégorie.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Categorie.CodeCateg, Count(Produit.RefProd) AS CompteDeRefProd <br>
                        FROM (Categorie INNER JOIN Produit ON Categorie.CodeCateg = Produit.CodeCateg) LEFT JOIN DetailCommande ON Produit.RefProd = DetailCommande.RefProd <br>
                        WHERE (((DetailCommande.RefProd) Is Null)) <br>
                        GROUP BY Categorie.CodeCateg;
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <table>
                    <caption>Table résultat de la requête 1 du thème 2</caption>
                    <tr>
                        <th scope="col">CodeCateg</th>
                        <th scope="col">CompteDeRefProd</th>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>27</td>
                    </tr>
                </table>
            </li>
            <li>
                <h3>Seconde requête</h3>
                <p>La question suivante a été posée : « Quels sont les pays qui ont une offre importante de produit ? » <br>
                    Nous cherchons les pays qui ont une offre importante de produits dans le but d’y préparer certainement de futures commandes de produits provenant de pays ayant une offre importante de produits.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT Fournisseur.Pays, Count(Produit.RefProd) AS CompteDeRefProd1 <br>
                        FROM Fournisseur INNER JOIN Produit ON Fournisseur.NoFour = Produit.NoFour <br>
                        GROUP BY Fournisseur.Pays <br>
                        ORDER BY Count(Produit.RefProd) DESC ;
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <img src="assets/pictures/mission3/theme2-requete2.png" alt="Table résultat de la requête 2 du thème 2 sur Access">
            </li>
        </ol>
    </article>
    <article id="theme3">
        <h2>Thème n°3 : Provenance des produits</h2>
        <p>Nous nous intéressons ici à la provenance des produits de KDou pour d'éventuels ajustements sur la logistique.</p>
        <ol>
            <li>
                <h3>Première requête</h3>
                <p>La question suivante a été posée : « Pour l’Allemagne pays proche, quels sont les desserts ou boissons vendus à moins de 100 euros ? » <br>
                    L’Allemagne étant un pays proche, l’intérêt de cette requête permet de savoir si nos pays voisins vendent des produits à prix raisonnable afin que KDou puisse s’y fournir plutôt que dans des pays plus éloignés. Cela permet d’avoir un frais de port moins conséquent, mais également avoir des produits aux prix les plus optimaux.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Fournisseur.Pays, Categorie.NomCateg, Produit.PrixUnit, Produit.NomProd <br>
                        FROM Fournisseur INNER JOIN ((Categorie INNER JOIN Produit ON Categorie.CodeCateg = Produit.CodeCateg) INNER JOIN (Commande INNER JOIN DetailCommande ON Commande.NoCom = DetailCommande.NoCom) ON Produit.RefProd = DetailCommande.RefProd) ON Fournisseur.NoFour = Produit.NoFour <br>
                        WHERE (((Fournisseur.Pays)="Allemagne") AND ((Categorie.NomCateg) Like "desserts" Or (Categorie.NomCateg) Like "boissons") AND ((Produit.PrixUnit)<100));
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <table>
                    <caption>Table résultat de la requête 1 du thème 3</caption>
                    <tr>
                        <th scope="col">Pays</th>
                        <th scope="col">NomCateg</th>
                        <th scope="col">PrixUnit</th>
                        <th scope="col">NomProd</th>
                    </tr>
                    <tr>
                        <td>Allemagne</td>
                        <td>Boissons</td>
                        <td>86,46 €</td>
                        <td>Rhönbräu Klosterbier</td>
                    </tr>
                    <tr>
                        <td>Allemagne</td>
                        <td>Desserts</td>
                        <td>11,67 €</td>
                        <td>NuNuCa NuB-Nougat-Creme</td>
                    </tr>
                    <tr>
                        <td>Allemagne</td>
                        <td>Desserts</td>
                        <td>26,03 €</td>
                        <td>Gumbär Gummibärchen</td>
                    </tr>
                    <tr>
                        <td>Allemagne</td>
                        <td>Desserts</td>
                        <td>36,58 €</td>
                        <td>Schoggi Schokolade</td>
                    </tr>
                </table>
            </li>
            <li>
                <h3>Seconde requête</h3>
                <p>Voici la question posée : « Quels fournisseurs vendent uniquement des boissons ou des desserts ? ». <br>
                    On cherche donc les fournisseurs qui vendent uniquement des boissons OU des desserts.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Produit.NoFour, Produit.CodeCateg <br>
                        FROM (Produit INNER JOIN Fournisseur ON Produit.NoFour = Fournisseur.NoFour) INNER JOIN Categorie ON Produit.CodeCateg = Categorie.CodeCateg <br>
                        WHERE Fournisseur.NoFour NOT IN ( SELECT Produit.NoFour FROM Produit INNER JOIN Categorie ON Produit.CodeCateg = Categorie.CodeCateg WHERE Categorie.CodeCateg NOT IN (1,3) );
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <img src="assets/pictures/mission3/theme3-requete2.png" alt="Table résultat de la requête 2 du thème 3 sur Access">
            </li>
        </ol>
    </article>
    <article id="theme4">
        <h2>Thème n°4 : L'offre de KDou</h2>
        <p>Nous nous intéressons ici aux clients de KDou et aux remises accordées afin de prévoir d'éventuels changements.</p>
        <ol>
            <li>
                <h3>Première requête</h3>
                <p>La question suivante a été posée : « Le client nantais « Le verre à soi » souhaite savoir quels sont les autres clients nantais qui commandent aussi des produits en Allemagne. » <br>
                    L’objectif de cette requête est de savoir quels sont les clients nantais commandant des produits dans le même pays afin de limiter, de minimiser les frais et la pollution de transport, ainsi une collaboration et une livraison groupée seraient bénéfique pour eux.
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Client.SocieteCli, Client.VilleCli, Fournisseur.Pays <br>
                        FROM Client INNER JOIN (Commande INNER JOIN (Fournisseur INNER JOIN (Produit INNER JOIN DetailCommande ON Produit.RefProd = DetailCommande.RefProd) ON Fournisseur.NoFour = Produit.NoFour) ON Commande.NoCom = DetailCommande.NoCom) ON Client.CodeCli = Commande.CodeCli <br>
                        WHERE (((Client.VilleCli) Like "nant*") AND ((Fournisseur.Pays) Like "*allemagne*"));
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <table>
                    <caption>Table résultat de la requête 1 du thème 4</caption>
                    <tr>
                        <th scope="col">SocieteCli</th>
                        <th scope="col">VilleCli</th>
                        <th scope="col">Pays</th>
                    </tr>
                    <tr>
                        <td>Pedro's house</td>
                        <td>Nantes</td>
                        <td>Allemagne</td>
                    </tr>
                    <tr>
                        <td>Table nantaise</td>
                        <td>Nantes</td>
                        <td>Allemagne</td>
                    </tr>
                    <tr>
                        <td>Verre à soi</td>
                        <td>Nantes</td>
                        <td>Allemagne</td>
                    </tr>
                </table>
            </li>
            <li>
                <h3>Seconde requête</h3>
                <p>La question suivante a été posée : « Quels couples de clients de Besançon pourrait-on créer ? » <br>
                    L’idée de créer un couple de clients à Besançon est mise en place afin de savoir qui sont les clients à Besançon, mais également pour pouvoir collaborer. Cette requête permet donc de savoir quels sont les clients à Besançon :
                </p>
                <h4><u>Requête SQL</u></h4>
                <div class="sql">
                    <p>SELECT DISTINCT Client.VilleCli, Fournisseur.Pays, Client.SocieteCli <br>
                        FROM Fournisseur INNER JOIN (Produit INNER JOIN ((Client INNER JOIN Commande ON Client.CodeCli = Commande.CodeCli) INNER JOIN DetailCommande ON Commande.NoCom = DetailCommande.NoCom) ON Produit.RefProd = DetailCommande.RefProd) ON Fournisseur.NoFour = Produit.NoFour <br>
                        WHERE (((Client.VilleCli) Like "besan*"));
                    </p>
                </div>
                <h4><u>Table résultat</u></h4>
                <img src="assets/pictures/mission3/theme4-requete2.png" alt="Table résultat de la requête 2 du thème 4 sur Access">
            </li>
        </ol>
    </article>
    <article id="conclusion">
        <h2>Conclusion</h2>
        <p>Pour conclure sur cette mission, nous avons interrogé la base de données par des requêtes SQL afin d'avoir des indicateurs plus intéressants pour aider KDou à viser ses objectifs plus responsables.</p>
    </article>
</main>
<footer>
    <h3>A propos</h3>
    <a href="index.html">Le projet</a> <br>
    <a href="assets/comptes_rendus.zip">Télécharger les comptes-rendus détaillés</a>
    <p>Anthony DE OLIVEIRA - Rida BATTACHI - Maxime COURDAVAULT © 2024</p>
</footer>
</body>
</html>